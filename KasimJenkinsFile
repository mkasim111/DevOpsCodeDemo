pipeline{

	tools{
		jdk 'myjava'
		maven 'mymaven'	
	}
	agent any
	

	stages{
		stage('Clone repo'){
			steps{
			git 'https://github.com/Sonal0409/DevOpsCodeDemo.git'
			}
		}
		stage('Compile'){
			steps{
				sh 'mvn compile'
			}
		}
		stage('Test'){
			steps{
				sh 'mvn test'
			}
			post{
				success{
					junit 'target/surefire-reports/*.xml'
				}
			
			}
		}
		
		stage('Code Review'){
			steps{
				sh 'mvn pmd:pmd'
			}
		}
	
	}



}
